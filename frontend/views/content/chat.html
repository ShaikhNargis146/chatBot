<div class="container clearfix">
    <div class="chat">
        <div class="chat-header clearfix">
            <div class="chat-about">
                <div class="chat-with">Group Chat ({{name}})</div>
            </div>
        </div>
        <!-- end chat-header -->

        <div class="chat-history" id="chatbox">
            <ul class="list-unstyled">
                <span ng-repeat="chat in allChats">
                    <li class="clearfix" ng-if="chat.user == name">
                        <div class="message-data align-right">
                            <span class="message-data-time">{{chat.createdAt | chatDate}}</span> &nbsp; &nbsp;
                            <span class="message-data-name">{{chat.user}}</span>
                            <i class="fa fa-circle me"></i>

                        </div>
                        <div class="message other-message float-right">
                            {{chat.text}}
                        </div>
                    </li>
                    <li ng-if="chat.user != name" ng-class="{'tui-bot': (chat.user == 'TUI')}">
                        <div class="message-data">
                            <span class="message-data-name">
                                <i class="fa fa-circle online"></i> {{chat.user}}</span>
                            <span class="message-data-time">{{chat.createdAt | chatDate}}</span>
                        </div>
                        <div class="message my-message">
                            {{chat.text}}
                            <div class="bot response" ng-if="chat.botResponse.data">
                                I have found some {{chat.botResponse.data.type|correctPlace}} in {{chat.botResponse.data.city|mergeArrayToString}}
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Address</th>
                                            <th>Rating</th>
                                            <th>Link</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="somePlace in chat.botResponse.somePlaces">
                                            <td>
                                                {{somePlace.name}}</td>
                                            <td> {{somePlace.formatted_address}}</td>
                                            <td> {{somePlace.rating}}</td>
                                            <td>
                                                <button class="btn btn-sm btn-default" ng-click="goToLink(somePlace.place_id)">Link
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </li>
                </span>


                <!-- <li>
                    <div class="message-data">
                        <span class="message-data-name">
                            <i class="fa fa-circle online"></i> Vincent</span>
                        <span class="message-data-time">10:31 AM, Today</span>
                    </div>
                    <i class="fa fa-circle online"></i>
                    <i class="fa fa-circle online" style="color: #AED2A6"></i>
                    <i class="fa fa-circle online" style="color:#DAE9DA"></i>
                </li> -->

            </ul>
        </div>
        <!-- end chat-history -->

        <div class="chat-message clearfix">
            <form>
                <input type="text" class="form-control" placeholder="Type your message" ng-model="message.chatText">

                <!-- <i class="fa fa-file-o"></i> &nbsp;&nbsp;&nbsp;
                    <i class="fa fa-file-image-o"></i> -->


                <button type="submit" class="btn btn-custom" ng-click="sendMessage(message.chatText)">Send</button>
            </form>


        </div>
        <!-- end chat-message -->

    </div>
    <!-- end chat -->

</div>
<!-- end container -->

<div class="page whatsapp">
    <div class="marvel-device nexus5">
        <div class="top-bar"></div>
        <div class="sleep"></div>
        <div class="volume"></div>
        <div class="camera"></div>
        <div class="screen">
            <div class="screen-container">
                <div class="status-bar">
                    <div class="time">{{deviceTime}}</div>
                    <div class="battery">
                        <i class="zmdi zmdi-battery"></i>
                    </div>
                    <div class="network">
                        <i class="zmdi zmdi-network"></i>
                    </div>
                    <div class="wifi">
                        <i class="zmdi zmdi-wifi-alt-2"></i>
                    </div>
                    <div class="star">
                        <i class="zmdi zmdi-star"></i>
                    </div>
                </div>
                <div class="chat">
                    <div class="chat-container">
                        <div class="user-bar">
                            <div class="avatar">
                                <img src="img/tui-logo.jpg" alt="Avatar">
                            </div>
                            <div class="name">
                                <span>Group Chat</span>
                                <span class="status">online</span>
                            </div>
                        </div>
                        <div class="conversation">
                            <div class="conversation-container">

                                <div class="conversation-height">

                                    <div class="message  color-{{chat.user|lowercase}}" ng-class="{'sent': chat.user == name, 'received': chat.user != name}"
                                        ng-repeat="chat in allChats">
                                        <!-- User name -->
                                        <span class="user-name">{{chat.user}}</span>

                                        <!-- Chat text -->
                                        <span class="chat-text" ng-bind-html="chat.text"></span>

                                        <!-- Response suggestion -->
                                        <div class="chat-text" ng-if="chat.botResponse.data">
                                            I have found some {{chat.botResponse.data.type|correctPlace}} in {{chat.botResponse.data.city|mergeArrayToString}}

                                            <div class="recommendation-cards">
                                                <div class="card-stack" ng-repeat="somePlace in chat.botResponse.somePlaces" ng-click="goToLink(somePlace.place_id)">
                                                    <div class="card-name">{{somePlace.name}}</div>
                                                    <div class="card-rating" uib-rating ng-model="somePlace.rating" max="max" read-only="isReadOnly"></div>
                                                    <div class="card-addr">{{somePlace.formatted_address}}</div>
                                                </div>
                                            </div>

                                        </div>
                                        <span class="metadata">
                                            <span class="time">{{chat.createdAt | chatDate}}</span>
                                            <span class="tick">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076">
                                                    <path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"
                                                        fill="#4fc3f7" />
                                                </svg>
                                            </span>
                                        </span>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>

                            </div>
                            <form class="conversation-compose">
                                <div class="emoji">

                                </div>
                                <input class="input-msg" ng-model="message.chatText" name="input" placeholder="Type a message" autocomplete="off" autofocus></input>

                                <div class="photo">

                                </div>
                                <button class="send" ng-click="sendMessage(message.chatText)">
                                    <div class="circle">
                                        <i class="zmdi zmdi-mail-send"></i>
                                    </div>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>